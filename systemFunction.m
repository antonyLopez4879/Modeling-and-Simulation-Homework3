% System of Differential Equations

function dx = systemFunction(t,x)
%-----------------------------------------------------
% Parameters:
m1 = 290;
b1 = 1000;
m2 = 59;
k1 = 16182;
f  = 0;
k2 = 19000;
z1 = 0.05*sin(0.5*pi*t);
z2 = 0.05*sin(20*pi*t);

%-----------------------------------------------------
% State Vector: dx
% dx = [x1_d;x2_d;x3_d;x4_d]
dx = zeros(4,1); % Size: # of states we need
%-----------------------------------------------------

% Input Vector: u
% case:
z = z2;

u = [f z];
%-----------------------------------------------------

%-----------------------------------------------------
%Definition of the dynamics of the system
dx(1) = x(3);
dx(2) = x(4);
dx(3) = (-k1/m1)*x(1)+(k1/m1)*x(2)+(-b1/m1)*x(3)+(b1/m1)*x(4)+(1/m1)*u(1);
dx(4) = (k1/m2)*x(1)+(-1*(k1+k2)/m2)*x(2)+(b1/m2)*x(3)+(-b1/m2)*x(4)+(-1/m2)*u(1)+(k2/m2)*u(2);
%-----------------------------------------------------
